import { Head, Image, Appear } from 'mdx-deck'
import { Split, FullScreenCode } from 'mdx-deck/layouts'
import { CodeSurfer } from "mdx-deck-code-surfer";

import { Cover } from './Cover';
import { Intro } from './Intro';
import { Img } from './Img';
import { InlineImg } from './InlineImg';
import { Thanks } from './Thanks';
import { Feedback } from './Feedback';

export { default as theme } from './theme'

<Head>
  <title>Practical Hooks, Redux Hooks and Fast Refresh</title>
</Head>

<Cover />

---

<Intro />

---

## Overview

<ul>
    <Appear>
        <li>
            React Components
        </li>
        <li>
          Primitive Hooks
        </li>
        <li>
          Redux Hooks
        </li>
        <li>
          Fast Refresh
        </li>
    </Appear>
</ul>

---

### React Components

<Img src='./img/components.jpeg' width={700} />

---

### React Components

- Declarative
- Encapsulate state
- Composable

---

### Declarative

- Declare how your view will look like
- React will update DOM or another host tree

---

### Encapsulate State

- Each component can manage their own state

---

### Composable

- You can compose components to create complex UIs

---

## React Components

<Img src='./img/function.png' width={1000} />

---

### Props

- Properties to modify a component
- Read only, can't be modified

---

### State

- Something that will change in the scope of the component

---

## React Components

<Img src='./img/functionEffects.png' width={1000} />

---

### Effects

- Side effect created by a component

---

### Component Dichotomy

- It acts as a pure function in some cases
- It acts as a stateful logics in some cases
- It can cause side effects in some cases

---

### Component Dichotomy

- classes was used to represent stateful logic
- functions was used to represent pure logics

---

### React Hooks

- Bring stateful logic and side effects to functions components
- it is all about co-location
- Compose state and effects

---

### Before Hooks

<Img src='./img/hooksBefore.jpeg' width={350} />

---

### After Hooks

<Img src='./img/hooksAfter.jpeg' width={350} />

---

### Hooks Gif

<Img src='./img/hooksGif.gif' width={350} />

---

# Primitive Hooks

---

### Rules of Hooks

- Only Call Hooks at the Top Level (Donâ€™t call Hooks inside loops, conditions, or nested functions)
- Only Call Hooks from React Functions

---

### useState

<Img src='./img/useState.png' width={700} />

---

### useState

- Declares a value that will be managed by this component

---

### old style setState

<Img src='./img/setState.png' width={400} />

---

### useContext

<Img src='./img/useContext.png' width={600} />

---

### useContext

- reads a context value on render
- it will be rerendered when context value changes

---

### old style contextType class

<Img src='./img/contextType.png' width={600} />

---


### Component Lifecycle

<Img src='./img/lifecycle.png' width={1000} />

---

### Component Lifecycle (Full)

<Img src='./img/lifecycleFull.png' width={800} />

---

### useEffect

- replaces the use of component lifecycles
- let you hook in commit phase

---

### useEffect - examples

- data fetching (use suspense approach instead)
- subscriptions
- manually changing the DOM

---

### Effect without cleanup (lifecycle)

<Img src='./img/lifecycleNoCleanup.png' width={500} />

---

### Effect without cleanup (useEffect)

<Img src='./img/useEffectNoCleanup.png' width={500} />

---

### Effect with cleanup (lifecycle)

<Img src='./img/lifecycleCleanup.png' width={350} />

---

### Effect with cleanup (useEffect)

<Img src='./img/useEffectCleanup.png' width={600} />

---

### useReducer

---

### useCallback

### useMemo

### useRef

## useLayoutEffect

## useImperativeHandle

## useDebugValue


## Redux

## useSelector -> mapStateToProps
- extract data from redux store


## reselect (memoize selector)

## useDispatch - used to dispatch actions to redux store

## useStore - return the store passed to Provider


## Fast Refresh

- deep dive in fast refresh structure (how it works?)
- why is it different from react hot loader? (hmr)


### What's Next?

---

## References

- [Reactjs Docs](https://reactjs.org/docs/)
- [Redux Docs](https://react-redux.js.org/next/api/hooks)
- [threepointone tweet about hooks](https://twitter.com/threepointone/status/1056594421079261185)
- [gif hooks tweet](https://twitter.com/prchdk/status/1056960391543062528)

---

<Thanks />

---

<Feedback />
